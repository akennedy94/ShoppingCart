(this.webpackJsonpshopping=this.webpackJsonpshopping||[]).push([[0],{40:function(e,t,c){},46:function(e,t,c){},65:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),i=c.n(s),r=c(12),a=c.n(r),l=c(20),o=c.n(l),d=c(32),j=c(5),u=c(8),b=c(2),m=function(e){var t=e.localCart,c=Object(s.useState)(0),i=Object(j.a)(c,2),r=i[0],a=i[1];return Object(s.useEffect)((function(){!function(){var e=t.map((function(e){return e.productAmount}));a(e.reduce((function(e,t){return e+t}),0))}()}),[t]),r>=1?Object(n.jsx)("span",{className:"badge badge-primary ml-2",children:r}):Object(n.jsx)("span",{className:"badge badge-secondary ml-2",children:r})},h=(c(40),function(e){var t=e.localCart;return Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-info",children:Object(n.jsxs)("div",{className:"container",id:"navbarNav",children:[Object(n.jsx)("div",{className:"navbar-collapse",children:Object(n.jsx)(u.b,{to:"/",className:"navbar-brand",children:"Cras eget hendrerit "})}),Object(n.jsx)("div",{className:"navbar-collapse justify-content-end",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)(u.b,{to:"/",className:"nav-link",children:"Home"})}),Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsxs)(u.b,{to:"/cart",className:"nav-link",children:["Cart",Object(n.jsx)("i",{className:"fas fa-shopping-cart pl-2"}),Object(n.jsx)(m,{localCart:t})]})})]})})]})})}),p=c(14),O=function(e){p.a.success(e,{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},x=function(e){p.a.warning(e,{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},f=i.a.createContext([]),v=f.Provider,N=(f.Consumer,f),g=c(10),y=function(e,t){var c=Object(g.a)(t);return console.log("add remove: ",e,t),t.map((function(e){return e.productId})).includes(e.productId)||c.push(e),c},I=function(e,t,c){var n=Object(g.a)(t);if(c||(c=1),t.map((function(e){return e.productId})).includes(e.productId)){var s=t.findIndex((function(t){return t.productId===e.productId}));n[s].productAmount=t[s].productAmount+c}else e.productAmount=c,n.push(e);return n},w=function(e){var t=e.products,c=e.handleClick,s=e.handleWishlist;return t.map((function(e){return Object(n.jsx)("div",{className:"col-3",id:"productDisplay",children:Object(n.jsxs)("div",{className:"card border-light text-center",children:[Object(n.jsx)("div",{className:"bg-light",children:Object(n.jsx)("img",{src:e.productImage,alt:"wrapkit",className:"card-img-top"})}),Object(n.jsxs)("div",{className:"card-body bg-light",children:[Object(n.jsx)(u.b,{to:"ProductPage/".concat(e.productId),style:{color:"black",fontWeight:"bold"},children:e.productName}),Object(n.jsxs)("h5",{className:"font-medium b-30",children:["$",e.productPrice]}),Object(n.jsx)("div",{className:"row d-flex justify-content-center",children:Object(n.jsx)("button",{onClick:function(){return s(e)},className:"btn btn-md btn-info",children:"Add to Wishlist"})}),Object(n.jsx)("div",{className:"row d-flex justify-content-center mt-2",children:Object(n.jsx)("button",{onClick:function(){return c(e)},className:"btn btn-md btn-primary mb-3",children:"Add to Cart"})})]})]})},e.productId)}))},C=function(e){var t=e.products,c=Object(s.useContext)(N),i=[c.localCart,c.setLocalCart,c.wishlist,c.setWishlist],r=i[0],a=i[1],l=i[2],o=i[3];return Object(n.jsxs)("main",{children:[Object(n.jsx)("section",{children:Object(n.jsx)("div",{className:"banner-innerpage",children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsxs)("div",{className:"col-md-8 mt-3 align-self-center text-center",children:[Object(n.jsx)("h1",{className:"title",children:"Etiam hendrerit tristique"}),Object(n.jsx)("h5",{className:"subtitle op-8",children:"Donec nec lobortis purus"})]})})})})}),Object(n.jsx)("section",{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(w,{products:t,handleClick:function(e){a(I(e,r)),O("Added to cart!")},handleWishlist:function(e){o(y(e,l)),O("Added to wishlist!")}})})})})]})},S=function(e){var t=e.localCart,c=e.itemQuantity,i=Object(s.useState)(0),r=Object(j.a)(i,2),a=r[0],l=r[1],o=Object(s.useState)(0),d=Object(j.a)(o,2),u=d[0],b=d[1];return Object(s.useEffect)((function(){!function(){var e=t.map((function(e){return e.productPrice*e.productAmount})).reduce((function(e,t){return e+t}),0);l(e)}()}),[t]),Object(s.useEffect)((function(){c<10&&c>=1?b(5):c>=10&&c<30?b(15):c>=30&&b(25)}),[c]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-9 d-flex justify-content-start align-items-center",children:Object(n.jsxs)("h4",{className:"quantity-responsive",children:["Subtotal ","(".concat(c,1===c?" item)":" items)"),":"]})}),Object(n.jsx)("div",{className:"col-3 d-flex justify-content-end align-items-center",children:Object(n.jsx)("div",{children:Object(n.jsxs)("strong",{children:["$",a]})})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-8 d-flex justify-content-start align-items-center",children:Object(n.jsx)("h6",{children:"Shipping and handling:"})}),Object(n.jsx)("div",{className:"col-4 d-flex justify-content-end align-items-center",children:Object(n.jsx)("div",{children:Object(n.jsxs)("strong",{children:["$",u]})})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-8 d-flex justify-content-start align-items-center",children:Object(n.jsx)("h6",{children:"Total before tax:"})}),Object(n.jsx)("div",{className:"col-4 d-flex justify-content-end align-items-center",children:Object(n.jsx)("div",{children:Object(n.jsxs)("strong",{children:["$",a]})})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-8 d-flex justify-content-start align-items-center",children:Object(n.jsx)("h6",{children:"Estimated tax:"})}),Object(n.jsx)("div",{className:"col-4 d-flex justify-content-end align-items-center",children:Object(n.jsx)("div",{children:Object(n.jsxs)("strong",{children:["$",(.1*a).toFixed(2)]})})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-8 d-flex justify-content-start align-items-center",children:Object(n.jsx)("h4",{children:"Total:"})}),Object(n.jsx)("div",{className:"col-4 d-flex justify-content-end align-items-center",children:Object(n.jsx)("div",{children:Object(n.jsx)("h5",{children:Object(n.jsxs)("strong",{children:["$",(a+.1*a+u).toFixed(2)]})})})})]})]})},k=function(e){var t=e.removeItemFromWishlist,c=e.transferItem;return[Object(s.useContext)(N).wishlist][0].map((function(e){return Object(n.jsxs)("div",{className:"productDisplay",children:[Object(n.jsx)("div",{className:"productImgDisplay",children:Object(n.jsx)("img",{src:"../".concat(e.productImage),alt:"pic of product",className:"responsive-cart-image"})}),Object(n.jsxs)("div",{className:"productInfo",children:[Object(n.jsxs)("div",{className:"productNameDisplay",children:[Object(n.jsx)(u.b,{to:"ProductPage/".concat(e.productId),style:{color:"black",fontWeight:"bold"},children:e.productName}),Object(n.jsx)("div",{className:"priceDisplay",children:Object(n.jsxs)("h5",{className:"font-medium m-b-30",children:["$",e.productPrice]})})]}),Object(n.jsxs)("div",{className:"controls",children:[Object(n.jsx)("button",{className:"btn btn-danger btn-responsive",onClick:function(){t(e.productId,!1)},children:"Remove"}),Object(n.jsx)("button",{className:"btn btn-info ml-4 btn-responsive",onClick:function(){c(e)},children:"Add"})]})]})]})}))},A=function(){var e=Object(s.useContext)(N),t=[e.localCart,e.setLocalCart,e.wishlist,e.setWishlist],c=t[0],i=t[1],r=t[2],a=t[3],l=function(e,t){var c=r.findIndex((function(t){return t.productId===e})),n=Object(g.a)(r);n.splice(c,1),a(n),t?O("Item added to cart!"):x("Item removed!")};return Object(n.jsx)("section",{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-lg-8",children:Object(n.jsx)("div",{className:"row shop-listing",children:Object(n.jsxs)("div",{className:"cart",children:[Object(n.jsx)("div",{className:"cartHeader",children:Object(n.jsx)("h3",{children:"Wishlist"})}),Object(n.jsx)("div",{className:"productColumn",children:0===r.length?Object(n.jsx)("div",{className:"emptyDisplay",children:Object(n.jsx)("h4",{children:"Your wishlist is empty!"})}):Object(n.jsx)(k,{removeItemFromWishlist:l,transferItem:function(e){if(c.map((function(e){return e.productId})).includes(e.productId)){var t=c.findIndex((function(t){return t.productId===e.productId})),n=Object(g.a)(c);n[t].productAmount=c[t].productAmount+1,i(n),l(e.productId,!0)}else{var s=Object(g.a)(c);e.productAmount=1,s.push(e),i(s),l(e.productId,!0)}}})})]})})})})})})},P=(c(46),function(e){var t=e.handleAdd,c=Object(s.useContext)(N),i=[c.localCart,c.setLocalCart],r=i[0],a=i[1],l=function(e,t){var c=r.findIndex((function(t){return t.productId===e})),n=Object(g.a)(r);n.splice(c,1),a(n),t?O("Item moved to wishlist!"):x("Item removed!")};return r.map((function(e){return Object(n.jsxs)("div",{className:"productDisplay",children:[Object(n.jsxs)("div",{className:"product-display-container",children:[Object(n.jsx)("img",{className:"responsive-cart-image",src:"../".concat(e.productImage),alt:"pic of product"}),Object(n.jsxs)("div",{className:"button-container",children:[Object(n.jsx)("button",{onClick:function(){return function(e){var t=r.findIndex((function(t){return t.productId===e})),c=Object(g.a)(r);r[t].productAmount-1>0&&(c[t].productAmount=r[t].productAmount-1,a(c))}(e.productId)},className:"btn btn-primary",children:"-"}),Object(n.jsx)("div",{className:"quantity-align",children:e.productAmount}),Object(n.jsx)("button",{onClick:function(){return function(e){var t=r.findIndex((function(t){return t.productId===e})),c=Object(g.a)(r);c[t].productAmount=r[t].productAmount+1,a(c)}(e.productId)},className:"btn btn-primary",children:"+"})]})]}),Object(n.jsxs)("div",{className:"productInfo",children:[Object(n.jsxs)("div",{className:"productNameDisplay",children:[Object(n.jsx)(u.b,{to:"ProductPage/".concat(e.productId),style:{color:"black",fontWeight:"bold"},children:e.productName}),Object(n.jsx)("div",{className:"priceDisplay",children:Object(n.jsxs)("h5",{className:"font-medium m-b-30",children:["$",e.productPrice]})})]}),Object(n.jsxs)("div",{className:"controls",children:[Object(n.jsx)("div",{className:"align-responsive",children:Object(n.jsx)("button",{onClick:function(){return l(e.productId,!1)},className:"btn btn-danger btn-responsive",children:"Remove"})}),Object(n.jsx)("div",{className:"align-responsive",children:Object(n.jsx)("button",{onClick:function(){return function(e){l(e.productId,!0),t(e)}(e)},className:"btn btn-info ml-2 btn-responsive",children:"Save"})})]})]})]})}))}),D=function(){var e=Object(s.useState)(0),t=Object(j.a)(e,2),c=t[0],i=t[1],r=Object(s.useContext)(N),a=[r.localCart,r.setLocalCart,r.wishlist,r.setWishlist],l=a[0],o=a[1],d=a[2],u=a[3];return Object(s.useEffect)((function(){!function(){var e=l.map((function(e){return e.productAmount})).reduce((function(e,t){return e+t}),0);i(e)}()}),[l]),Object(n.jsxs)("main",{children:[Object(n.jsx)("section",{children:Object(n.jsx)("div",{className:"banner-innerpage",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row mt-3 justify-content-center",children:Object(n.jsxs)("div",{className:"col-md-6 align-self-center text-center",children:[Object(n.jsx)("h1",{className:"title",children:"Vivamus ullamcorper lectus"}),Object(n.jsx)("h5",{className:"subtitle op-8",children:"Suspendisse viverra mi nec"})]})})})})}),Object(n.jsx)("section",{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row mt-5",children:[Object(n.jsx)("div",{className:"col-lg-8",children:Object(n.jsx)("div",{className:"row shop-listing",children:Object(n.jsxs)("div",{className:"cart",children:[Object(n.jsx)("div",{className:"cartHeader",children:Object(n.jsx)("h3",{children:"Shopping Cart"})}),Object(n.jsx)("div",{className:"productColumn",children:0===l.length?Object(n.jsx)("div",{className:"emptyDisplay",children:Object(n.jsx)("h4",{children:"Your cart is empty!"})}):Object(n.jsx)(P,{handleAdd:function(e){u(y(e,d))}})})]})})}),Object(n.jsx)("div",{className:"col-lg-4 mt-1",children:Object(n.jsxs)("div",{className:"subtotal",children:[Object(n.jsx)(S,{localCart:l,itemQuantity:c}),Object(n.jsx)("button",{className:"btn btn-danger mt-2",onClick:function(){var e;o([]),e="Cart cleared!",p.a.warning(e,{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},children:"Empty Cart"})]})})]})})}),Object(n.jsx)("section",{children:Object(n.jsx)(A,{})})]})},W=c(17),E=c.n(W),$=(c(65),function(e){var t=e.match,c=Object(s.useState)(1),i=Object(j.a)(c,2),r=i[0],a=i[1],l=Object(s.useState)({}),o=Object(j.a)(l,2),d=o[0],u=o[1],b=Object(s.useContext)(N),m=[b.localCart,b.setLocalCart,b.wishlist,b.setWishlist],h=m[0],p=m[1],x=m[2],f=m[3],v=t.match.params.productId;Object(s.useEffect)((function(){E.a.get("/api/product/".concat(v)).then((function(e){return u(e.data[0])})).catch((function(e){return console.log(e)}))}),[v]);return Object(n.jsx)("main",{children:Object(n.jsx)("section",{children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"d-flex flex-row justify-content-center product-row",children:[Object(n.jsx)("div",{className:"responsive-pp-image",children:Object(n.jsx)("img",{src:"../".concat(d.productImage),alt:"pic of product",className:"productpage-img"})}),Object(n.jsxs)("div",{className:"d-flex flex-column flex-wrap product-column",children:[Object(n.jsx)("h2",{className:"text-responsive",children:d.productName}),Object(n.jsxs)("h4",{className:"text-responsive",children:["$",d.productPrice]}),Object(n.jsx)("h3",{className:"text-responsive",children:d.productDescription}),Object(n.jsx)("p",{className:"text-responsive",children:d.detailedDescription}),Object(n.jsxs)("div",{className:"flex-row justify-content-center responsive-pp-controls",children:[Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),function(e){f(y(e,x)),O("Added to wishlist!")}(d)},className:"btn btn-info btn-md btn-pp-responsive",children:"Add to wishlist"}),Object(n.jsxs)("div",{className:"quantity-pp-responsive ml-3",children:[Object(n.jsx)("button",{onClick:function(){r-1!==0&&a(r-1)},className:"btn btn-primary btn-sm btn-quantity",children:"-"}),Object(n.jsx)("div",{className:"quantity-pp-align",children:r}),Object(n.jsx)("button",{onClick:function(){a(r+1)},className:"btn btn-primary btn-sm btn-quantity",children:"+"})]}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),function(e){p(I(e,h,r)),O("Added to cart!")}(d)},className:"btn btn-primary ml-3 btn-pp-responsive",children:"Add to cart"})]})]})]})})})})});c(66);p.a.configure(),null===window.sessionStorage.getItem("cart")&&window.sessionStorage.setItem("cart",JSON.stringify([])),null===window.localStorage.getItem("wishlist")&&window.localStorage.setItem("wishlist",JSON.stringify([]));var J=window.sessionStorage.getItem("cart"),q=window.localStorage.getItem("wishlist");var H=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],i=t[1],r=Object(s.useState)(JSON.parse(J)),a=Object(j.a)(r,2),l=a[0],m=a[1],p=Object(s.useState)(JSON.parse(q)),O=Object(j.a)(p,2),x=O[0],f=O[1];function N(){return(N=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/product").then((function(e){i(e.data)})).catch((function(e){return console.log(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){window.sessionStorage.setItem("cart",JSON.stringify(l))}),[l]),Object(s.useEffect)((function(){window.localStorage.setItem("wishlist",JSON.stringify(x))}),[x]),Object(n.jsx)("main",{className:"App bg-light",children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(h,{localCart:l}),Object(n.jsx)(v,{value:{localCart:l,setLocalCart:m,wishlist:x,setWishlist:f},children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{exact:!0,path:"/",component:function(){return Object(n.jsx)(C,{products:c})}}),Object(n.jsx)(b.a,{exact:!0,path:"/Cart",component:function(){return Object(n.jsx)(D,{})}}),Object(n.jsx)(b.a,{exact:!0,path:"/ProductPage/:productId",component:function(e){return Object(n.jsx)($,{match:e})}})]})})]})})};a.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.c41296f0.chunk.js.map